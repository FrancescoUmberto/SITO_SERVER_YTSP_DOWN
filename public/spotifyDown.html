<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/spotDown.css">
</head>

<body>
    <script src="script.js"></script>
    <div class="mainSp">
        <h1 class="title" id="title"><a href="index.html">SpotYube Downloader </a> - Spotify</h1>
        <div class="div2g">
            <div class="div2gText">
                <p class="text-choice">Scegliere modalit√† di download</p>
            </div>
            <div class="formSp">
                <form method="post" action="/formSp">
                    <div class="inputLink">
                        <input type="text" name="link" class="inputLink" id="linkYoutube" placeholder="inserire il link"
                            required autofocus>
                    </div>
                    <div class="buttons-sp">
                        <button class="download" type="submit" id="download" onclick="download()">Download</button>
                    </div>
            </div>
        </div>
        </form>
    </div>

</body>

<script>


    const inputLink = document.getElementById("linkYoutube").addEventListener('focusout', (evt) => {

        const playlistRegex = /^https:\/\/open.spotify.com\/playlist\/([a-zA-Z0-9]+).*$/;
        const trackRegex = /^https:\/\/open.spotify.com\/track\/([a-zA-Z0-9]+).*$/;
        const link = document.getElementById("linkYoutube").value;
        var valid = false;
        if (!(link == "")) {
            if ((!link.match(playlistRegex) && !link.match(trackRegex))) {
                alert("Link non valido");
                valid = false;
            }
            else {
                valid = true;
            }

        }
    });

</script>

</html>